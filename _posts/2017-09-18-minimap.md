---
layout: post
title:  How to create a minimap in duality
date:   2017-09-18
categories: Tutorial
tags: tutorial code minimap rendertexture
excerpt:
mathjax: false
author: cross
---

<div class="clearfix">
	<div style="float: left; width: 70%; padding-right: 20px;">
		<p>
			Many games placed a miniature map at a screen corner to aid players in orienting themselve within the game world.
			On the right side you can see a minimap that I created for my space game.
		</p>
		<p>In this tutorial, I like to show you, how easily it is to implement such a minimap in duality.</p>
	</div>
	<div style="float: left; width: 30%">
		<img src="https://thumbs.gfycat.com/CleverSevereLeopardseal-max-14mb.gif" />
	</div>
</div>

## What we are going to do

One way to implement a minimap is to use a second camera, that is positioned above the player and looks towards him.
This second camera draws everything in the viewport to a `RenderTexture`.
Later on we are going to render that texture on the `ScreenOverlay`.

## 1. Setup the project

Download Duality from [here](duality.adamslair.net) and install it on your maschine. Run `DualityEditor.exe` so it can
grab all necessary packages from nuget. In this tutorial I'm using the [Kenny Space Shooter Assetpack](http://www.kenney.nl/assets/space-shooter-redux). It's completely free.

Now you can fill your scene with e.g a spaceship, a background-image and a meteor, like I did:
![](https://i.imgur.com/twXb7vL.png)

You also have to attach a second camera to the scene, which is going to be our `Minimap Camera`.
![MinimapCamera](https://i.imgur.com/ldIKGeM.png)

Set the Z-Position of our `Minimap Camera` e.g. to -800.
![Transform of our Minimap Camera](https://i.imgur.com/wZswW3n.png)

## 2. Setup the render target

To render the viewport of our `Minimap Camera` to a texture, we going to create a new `RenderTarget` **and** a `Texture` in the `ProjectView`.

![Create new rendertarget](https://i.imgur.com/8knLD6w.png)

After that we have to adjust the size of this texture. Just select on the new created `Texture` and set the texture size inside the `Object Inspector` to e.g. `512x512`.

![Set the texture size](https://i.imgur.com/c495TmP.png)

Now we going to tell the `Minimap Camera` that everything should be drawn on this new created texture. For this, we select the `Camera-Component` of our `Minimap Camera`, set the amount of `Passes` to `1` and assign our `Texture` to the `Output-Property` of the `Camera-Component`.

![Setup the camera ouput](https://i.imgur.com/CTs41OO.png)

```csharp

```
